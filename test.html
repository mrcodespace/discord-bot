<!DOCTYPE html>
<html>
<head>
    <title>OPSUCHT API Explorer</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h1>OPSUCHT API Explorer</h1>
        <p>Gib einen Item-Namen ein, um den Preis abzurufen:</p>
        <form id="priceForm">
            <div class="mb-3">
                <input type="text" class="form-control" id="item" placeholder="z.B. diamond">
            </div>
            <button type="submit" class="btn btn-primary">Preis abrufen</button>
        </form>
        <div id="result"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        const form = document.getElementById('priceForm');
        const resultDiv = document.getElementById('result');

        form.addEventListener('submit', async (event) => {
            event.preventDefault();
            const item = document.getElementById('item').value;

            try {
                const response = await axios.get(`https://api.opsucht.net/market/price/${item}`, {
                    headers: {
                        'Authorization': 'Basic ' + btoa('||`ftp_connection`||:||`07ec582c-04a1-415a-87a9-38305f6f1381`||'),
                        'User-Agent': 'My API Explorer' // Ersetze mit deinem eigenen User-Agent
                    }
                });
                resultDiv.innerHTML = `Der Preis f√ºr ${item} ist: ${response.data.price}`;
            } catch (error) {
                resultDiv.innerHTML = 'Fehler beim Abrufen des Preises: ' + error.message;
            }
        });
    </script>
</body>
</html>
